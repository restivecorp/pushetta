<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"  
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:body>
    	<ui:composition template="/template/defaultLayout.xhtml">
    	
    		<ui:define name="content">
    		
				<article class="box post post-excerpt">
					<header>
						<h2>Create a Notification</h2>
						<p>Creation (live and delayed) notifications.</p>
					</header>
					<div class="info">
						<span class="date">
							<span class="month">#{timeBean.month}</span>
						 	<span class="day">#{timeBean.day}</span>
						 	<span class="year">, #{timeBean.year}</span>
						 </span>
						 
						 <ul class="stats">
							<li><a href="#" class="icon fa-envelope-o">#{timeBean.totalNotifications}</a></li>						
						</ul>
					</div>
										
					<h:form id="form">
						 <p:panel id="panel" header="Create new Notification">
						 	<h:panelGrid columns="3" cellpadding="5">	            
					            <p:outputLabel for="user" value="User: " />
						        <p:selectOneMenu id="user" value="#{notificationNewBean.user}" style="width:100%">
						            <f:selectItem itemLabel="Select One" itemValue="" />
						            <f:selectItems value="#{notificationNewBean.users}" />
						        </p:selectOneMenu>
					          	<p:message for="user" display="icon" />
					           
					            <p:outputLabel for="text" value="Notification Text:" />
					            <p:inputText id="text" value="#{notificationNewBean.text}" required="true" label="text">
					                <f:validateLength minimum="1" maximum="300" />
					            </p:inputText>
					            <p:message for="text" display="icon" />				 

					            <p:outputLabel for="date" value="Schedule Date (default today):" />
        						<p:calendar id="date" value="#{notificationNewBean.date}" pattern="yyyy-MM-dd"/>
        						<p:message for="date" display="icon" />		
        						
        						<p:outputLabel for="send" value="Send now?: " />
        						<p:selectBooleanCheckbox id="send" value="#{notificationNewBean.send}" />
        						<p:message for="send" display="icon" />						        
					        </h:panelGrid>
					 
				     	 	<p:commandButton value="Save" update="panel" actionListener="#{notificationNewBean.createNewNotification}" action="#{navigationBean.goToListReportsPage}" icon="ui-icon-check" />
						 </p:panel>
					</h:form>

				</article>
    		</ui:define>

    	</ui:composition>
    </h:body>
</html>